# Copilot Workspace: 概要

[Copilot Workspace](https://githubnext.com/projects/copilot-workspace/) は、_タスク中心_ のAIアシスタントです。開発者として毎日、タスクから始まり、そのタスクを探求し、理解し、洗練し、完了するまでの旅をします。この旅は、エキサイティングで挑戦的で、魅力的で、やりがいのあるものです。Copilot Workspaceは、この旅のすべてのステップであなたと一緒にいます — タスクから動作するコードへの旅です。

Copilot Workspaceは、その設計と開発を導く一連の原則に基づいて構築されています：

* Copilot Workspaceは_コンテキストに基づいています_。GitHubと深く統合されており、タスクのコンテキスト（リポジトリ、問題、プルリクエスト）を認識しています。

* Copilot Workspaceは_支援的です_。未知のタスクをナビゲートするためのキャンバスを提供し、新しい種類のAI支援で開発スキルを拡張します。

* Copilot Workspaceは_広範です_。GitHubのすべての有効なリポジトリのすべての問題で利用可能で、あなたを待っています。Copilot Workspaceは、新しいコードを開始する際にも、自然言語を使用して新しいソフトウェアを作成するために、すべてのテンプレートリポジトリで利用可能です。

* Copilot Workspaceは_反復的です_。Copilot Workspaceは、AI生成の出力を確認し、レビューし、洗練し、反復することを奨励します。開発者であるあなたがコントロールしています。

* Copilot Workspaceは_協力的です_。セッションをチームと共有し、問題やプルリクエストにセッションへのリンクを公開できます。また、リポジトリのメンテナーであれば、リポジトリでのAI支援開発の使用を管理するためのコントロールを提供します。

* Copilot Workspaceは_構成可能です_。一般的なタスクを指定する深いリンクを介して、Copilot Workspaceをワークフローに統合できます。

このマニュアルでは、Copilot Workspaceの概念と機能を案内し、効果的に使用するための手助けをします。

<img src="images/overview/session.png" width="600" alt="完全に実装されたワークスペースセッション">

*完全に実装されたワークスペースセッション*

## 機能

1. [タスク](#task)
1. [仕様](#specification)
1. [計画](#plan)
1. [実装](#implementation)
1. [ファイルの反復](#iterating-on-files)
1. [統合ターミナル](#integrated-terminal)
1. [セッションの共有](#session-sharing)
1. [タスクの完了](#task-completion)
1. [セッションダッシュボード](#session-dashboard)

## タスク

すべてのCopilot Workspaceの始まりは「タスク」です。これは意図の自然言語による説明です。タスクには常にコンテキストがあります：GitHubリポジトリです。
この技術プレビューでは、Copilot Workspaceは4種類のタスクをサポートしています：問題の解決、[プルリクエストの洗練](pull-request-tasks.md)、[テンプレートからのリポジトリの作成](creating-repos.md)、および[アドホックタスク](adhoc-tasks.md)です。ここでは、最も一般的なエントリポイントである問題の解決に焦点を当てます。

技術プレビューに登録すると、GitHubのすべての問題に新しい「Open in Workspace」ボタンが表示されます：

<img src="images/general/open-in-workspace.png" width=400 alt="Copilot Workspaceで開くボタン">

*Copilot Workspaceで問題を開く*

これにより、この問題にコンテキスト化されたCopilot Workspaceが開きます。問題タスクの場合、タスクは問題のタイトルと本文、および問題のコメントスレッドに基づいています。Copilot Workspaceはすぐにタイムラインの次のステップに進みます。これは次のように表示されます：

<img src="images/overview/issue-timeline-representation.png" width=600 alt="問題タスクのタイムライン表現">

*タスクは「Issue」とラベル付けされ、分析が開始されます*

## 仕様

非自明なタスク定義（例：長いコメントスレッドを持つ問題）を要約するために、Copilot Workspaceは最初にタスクの「トピック」を生成します。これは、コードベースに対して提起できる質問の形式を取り、成功基準の前後を定義するために使用されます（以下の[仕様](#specification)セクションを参照）。

<img src="images/overview/topic-question.png" width=600 alt="トピックの質問">

*トピックが問題のタイトルから完全に欠けている明確さをどのように導入するかに注目してください*

トピックは、タスクをその本質にまで蒸留し、Copilot Workspaceが正しい方向に進んでいるかどうかを早期かつ迅速に確認するための方法と考えることができます。トピックが間違っている場合、続行する必要はありません。しかし、トピックが正しい場合、タスクをよりよく理解し、タスクに関連するコードベースの最も重要な側面に焦点を当てるのに役立ちます。

トピックを生成した後、Copilot Workspaceは、タスクとトピックに基づいてコードベースの現在の動作を説明する箇条書きリストを生成します。これにより、Copilot Workspaceが正しい方向に進んでいるという自信を築き、現在の状態を完全に理解していない場合にコンテキストにオンボーディングする手段として機能します。

<img src="images/overview/current-spec.png" width=600 alt="現在の仕様">

*現在の仕様は、トピックの質問に基づいて現在の状態を回答します*

そして、Copilot Workspaceが何かを間違えた場合、現在の仕様のステップを簡単に編集/削除したり、まったく新しい仕様を生成することもできます（「もう一度試す」）。実際には、これらは最初の試行でかなり良いことが多いです。

現在の仕様の後、Copilot Workspaceは「提案された仕様」を生成します。これは、タスクを解決した後のコードベースの状態を説明する箇条書きリストです（実質的にトピックの質問に回答します）。特に、提案された仕様は、タスクの成功基準を定義することに焦点を当てており、実装の詳細には立ち入りません（これは[計画](#plan)の役割です）。

<img src="images/overview/proposed-spec.png" width=600 alt="提案された仕様">

*提案された仕様は、タスクを解決するためにコードベースをどのように編集するかを示します*

## コンテンツの選択

現在および提案された仕様を生成するために、そしてすべての後続のステップのために、Copilot Workspaceはタスクを理解し完了するためにコードベースのどのファイルが関連しているかを特定する必要があります。これをLLM技術と従来のコード検索の組み合わせによって行います。最も高ランクのファイルの内容は、ワークフローのほぼすべてのステップのコンテキストとして使用されます。

ユーザーは、「参照を表示」ボタンを使用して、Copilot Workspaceが選択したファイルをレビューできます。選択するファイルを調整するには、タスクを編集し、自然言語を使用して関連するファイルを指定します。

<img src="images/overview/references.png" width=600 alt="参照を表示ダイアログ">

*モデルが元の仕様と変更された仕様を生成するために使用した参照*

## 計画

現在および提案された仕様に満足したら、Copilot Workspaceに計画を生成するように依頼できます。計画は、提案された仕様の成功基準を達成するために変更する必要があるファイル（例：編集、作成、削除、移動、または名前変更）をリストしたものです。さらに、各変更されたファイルには、必要な具体的な変更を示す特定のステップのリストが含まれています。

仕様と同様に、計画は完全に編集可能で再生成可能であり、Copilot Workspaceを正しい方向に洗練し導くことができます。

<img src="images/overview/plan.png" width=600 alt="計画">

*1つのファイルを編集し、2つ目のファイルを追加するためのステップを示す計画*

## 実装

計画に満足したら、「実装」ボタンをクリックして実装を開始できます。これにより、UIが右側に一連のキューに入れられたファイル更新を表示し始め、ファイルの更新された内容を1つずつ生成し始めます。ファイルの生成が始まると、計画の関連エントリが進行中として表示されます。そして、完了すると、計画は完了として表示されます。

ファイルが実装されると、Copilot Workspaceはそのファイルの差分ビューをレンダリングし、自動的に最初の変更にスクロールします。差分エディタは編集可能であり、タスク、仕様、計画の変更を通じて反復するのではなく、コードに直接微調整を加えることができます。

## ファイルの反復

Copilot Workspaceは常にすべてを正しく行うわけではないため、ユーザーがファイルごとに実装を反復するのを簡単にします。各ファイルの計画ステップの項目を追加、削除、編集し、チェックボックスを選択して「選択したファイルを更新」ボタンをクリックするだけです。これにより、選択したファイルの内容が再生成され、差分ビューが更新されます。

たとえば、差分を直接編集することもできますし、計画に戻って変更を加えることもできます。より広範な変更が必要な場合は、計画全体を再生成することもできます。

<img src="images/overview/file-iteration.png" width=600 alt="ファイル反復の計画パネル">

*計画パネルは、ユーザーがファイルごとに実装を反復するのを可能にします*

## 統合ターミナル

計画を実装したら、Copilot Workspaceは統合ターミナルを表示し、変更の正確性を検証できるようにします。これにより、変更に対してビルド、リンティング、テストなどを実行でき、タスクとその完了ステータスに関する自信を迅速かつ効果的に得ることができます。ターミナルはCodespaceによってバックアップされており、完全な開発環境がインストールされた安全なサンドボックスです。

<img src="images/overview/terminal.png" width=600 alt="統合ターミナル">

*統合ターミナル、生成されたブランチ名とオンデマンドコンピュートへのアクセスを表示*

より広範な変更を加えたり、リッチなエディタ機能（例：ステップデバッグ）を活用したい場合は、Copilot WorkspaceセッションをCodespaceで開くことができます。Codespaceのサポートされているクライアントを使用して。

## セッションの共有

ワークスペースセッションを他の人と共有するのを簡単にするために（例：アドホックコードレビューを行うため、または初期の実装アイデアを共有するため）、Copilot Workspaceはユーザーが共有リンクを生成できるようにします。これらのリンクは、プレビューに参加していないゲストと共有できます。

共有セッションは元のセッションのコピーです。ゲスト以外のユーザーは、タスクを続行したり、代替ソリューションを探索したりするための出発点として使用できますが、元のセッションには干渉しません。ゲストユーザーはセッションを表示できますが、ワークスペースを使用して変更を加えることはできません。

<img src="images/overview/share-link.png" width=600 alt="共有リンクの生成">

*ヘッダーバーから共有リンクを生成*

問題やプルリクエストを扱う場合、次のこともできます：

* 問題コメントに公開。Copilot Workspaceは、セッションへの共有リンクを含むコメントを自動的に生成し、問題に含めます。これにより、レビュアーはワークスペースセッションに迅速にアクセスし、提案された変更を確認できます。

* プルリクエストコメントに公開。問題コメントと同様に、Copilot Workspaceはセッションへの共有リンクを含むコメントを自動的に生成し、プルリクエストに含めます。これにより、レビュアーはワークスペースセッションに迅速にアクセスし、提案された変更を確認できます。

## タスクの完了

タスクが実装され、検証され、レビューされたら、作業しているタスクの種類に応じて、さまざまな方法でタスクを完了できます。

<img src="images/overview/task-completion.png" width=600 alt="プルリクエストの作成">

*実装された変更のプルリクエストを作成*

| タスクの種類 | 利用可能な完了方法 |
|--------------|--------------------|
| 問題 | — プルリクエストを作成 <br> — ドラフトプルリクエストを作成 <br> — 新しいブランチにプッシュ <br> — 現在のブランチに変更をプッシュ（リポジトリへのコミット権限がある場合のみ利用可能） <br> <br> これらは、書き込みアクセスがない場合、リポジトリをフォークする可能性があります |
| アドホックタスク | — *問題と同様* |
| PRタスク | — プルリクエストを更新（変更を含む新しいコミットをプッシュ） <br> — *問題と同様* |
| リポジトリタスク | — リポジトリを作成（選択したテンプレートリポジトリから新しいリポジトリを作成し、変更を含める） |

## セッションダッシュボード

Copilot Workspaceは自動的に作業を保存します。また、セッションダッシュボードを提供し、後で作業を簡単に再開できるようにします。電話からタスクを開始し、ラップトップで仕上げることができますし、その逆も可能です。

<img src="images/general/dashboard.png" width=600 alt="Copilot Workspaceダッシュボード">

*最近のセッション、ブックマークされたセッション、完了したセッションを表示するCopilot Workspaceダッシュボード*

セッション内での元に戻すとやり直しは、ツールバーのボタンを使用してサポートされています。

## 付録：用語集

| 用語 | 定義 |
|------|------|
| Copilot Workspace | 毎日のタスクを探索し完了するために設計されたCopilotネイティブの開発環境 |
| ターゲット | 特定のコミットでのコードベースのブランチ |
| タスク | ターゲットへの変更の自然言語による説明 |
| トピック | 通常、質問形式でタスクを簡潔に要約したもの |
| 仕様 | タスクに関連するターゲットの現在および提案された状態の説明 |
| 計画 | 現在の状態から提案された状態にターゲットを変換するために、追加、削除、または変更するファイルのリストと、それぞれのファイルに関するメモ |
| 実装 | タスクを完了するために適用されるターゲットへの一連の変更 |
| セッション | タスクを完了するためのユーザーの進行状況を保存したもの。1つのタスクに対して複数のセッションが存在する可能性があります |
| スナップショットセッション | 「共有リンク」をクリックして作成されたユーザーのセッションのスナップショット。タスクの進行状況とUX状態の両方を含む |
